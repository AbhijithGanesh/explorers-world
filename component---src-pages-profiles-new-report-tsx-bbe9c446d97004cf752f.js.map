{"version":3,"file":"component---src-pages-profiles-new-report-tsx-bbe9c446d97004cf752f.js","mappings":"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","sources":["webpack://explorer-world/./src/utils/report.ts","webpack://explorer-world/./src/pages/profiles/new-report.tsx"],"sourcesContent":["import { supabase } from \"./supabase\";\r\nimport { PostgrestResponse } from \"@supabase/supabase-js\";\r\n\r\ntype contribution = {\r\n  title: string;\r\n  description: string;\r\n  link: string;\r\n  id: string;\r\n};\r\n\r\nlet PostReport = async (\r\n  title: string,\r\n  description: string,\r\n  link: string,\r\n  id: string\r\n): Promise<void> => {\r\n  let body: PostgrestResponse<contribution> = await supabase\r\n    .from(\"Contribution\")\r\n    .insert({\r\n      title: title,\r\n      description: description,\r\n      links: link,\r\n      date_of_contribution: new Date(),\r\n      last_updated_at: new Date(),\r\n      userid: id,\r\n    });\r\n\r\n  let join_insert = await supabase.from(\"ContriLog\").insert({\r\n    Contributions: body.data?.at(0)?.id,\r\n    User: id,\r\n  });\r\n};\r\n\r\nexport default PostReport;\r\n","import * as React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { BsFillQuestionDiamondFill } from \"react-icons/bs\";\r\nimport { GiSandsOfTime } from \"react-icons/gi\";\r\nimport { MdLeaderboard, MdLogout } from \"react-icons/md\";\r\nimport { supabase } from \"../../utils/supabase\";\r\nimport Layout from \"../../components/layout\";\r\nimport { DropDownMenu, MenuItem } from \"../../components/navbar/dropdown\";\r\nimport Navbar from \"../../components/navbar/Navbar\";\r\nimport { FaUserTie } from \"react-icons/fa\";\r\nimport { Menu } from \"@headlessui/react\";\r\nimport { navigate } from \"gatsby\";\r\nimport PostReport from \"../../utils/report\";\r\n\r\nlet reportForm = (): React.ReactNode => {\r\n  const [Title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n  const [Submit, setSubmit] = useState(false);\r\n  useEffect(() => {\r\n    return () => {\r\n      if (!supabase.auth.session()?.user) {\r\n        navigate(\"/login\");\r\n      }\r\n    };\r\n  }, []);\r\n  return (\r\n    <Layout>\r\n      <>\r\n        <Navbar>\r\n          <section className=\"z-10\">\r\n            <DropDownMenu>\r\n              <>\r\n                <MenuItem\r\n                  icon={<BsFillQuestionDiamondFill />}\r\n                  link={\"/challenges\"}\r\n                  text={\"View Challenges\"}\r\n                />\r\n                <MenuItem\r\n                  icon={<GiSandsOfTime />}\r\n                  link={\"/profiles/your-reports\"}\r\n                  text={\"Your Reports\"}\r\n                />\r\n\r\n                <MenuItem\r\n                  icon={<MdLeaderboard />}\r\n                  link={\"/leaderboard\"}\r\n                  text={\"View Leaderboard\"}\r\n                />\r\n                <MenuItem icon={<FaUserTie />} link={\"/\"} text={\"My Profile\"} />\r\n                <Menu>\r\n                  <Menu.Item>\r\n                    <button\r\n                      className=\"flex flex-auto gap-2 text-black bg-white hover:bg-emerald-300 w-full items-center rounded-md p-2 text-md\"\r\n                      onClick={() => {\r\n                        supabase.auth.signOut();\r\n                        navigate(\"/\");\r\n                      }}\r\n                    >\r\n                      <section className=\"m-1 hover:text-bold\">\r\n                        <MdLogout />\r\n                      </section>\r\n                      Logout!\r\n                    </button>\r\n                  </Menu.Item>\r\n                </Menu>\r\n              </>\r\n            </DropDownMenu>\r\n          </section>\r\n        </Navbar>\r\n\r\n        <section className=\"text-white text-xl font-semibold py-8\">\r\n          Submit a new challenge\r\n        </section>\r\n        <form>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter your title here\"\r\n            className=\"w-full bg-gray-50 text-black text-lg px-2 rounded-md py-1\"\r\n            onChange={(e) => {\r\n              setTitle(e.target.value);\r\n            }}\r\n          />\r\n\r\n          <textarea\r\n            placeholder=\"Enter your description here\"\r\n            className=\"flex flex-wrap w-full bg-gray-50 text-black text-lg px-2 rounded-md py-16 mt-4 mb-2 \"\r\n            onChange={(e) => {\r\n              setDescription(e.target.value);\r\n            }}\r\n          />\r\n          <input\r\n            type=\"url\"\r\n            placeholder=\"Submit your link here\"\r\n            className=\"w-full bg-gray-50 text-black text-lg px-2 rounded-md my-4\"\r\n            onChange={(e) => {\r\n              setLink(e.target.value);\r\n            }}\r\n          />\r\n          <button\r\n            className=\"bg-emerald-600 hover:bg-teal-600 font-semibold text-white text-xl p-2 rounded-lg w-full\"\r\n            onClick={async (e) => {\r\n              await PostReport(\r\n                Title,\r\n                description,\r\n                link,\r\n                supabase.auth.user()?.id!\r\n              );\r\n              setSubmit(true);\r\n            }}\r\n          >\r\n            Submit\r\n          </button>\r\n        </form>\r\n        {Submit ? (\r\n          <>\r\n            <section className=\"text-emerald-400 font-medium text-2xl py-2\">\r\n              Saved!\r\n            </section>\r\n          </>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default reportForm;\r\n"],"names":["PostReport","title","description","link","id","supabase","insert","links","date_of_contribution","Date","last_updated_at","userid","_context","body","Contributions","data","_body$data","at","_body$data$at","User","useState","Title","setTitle","setDescription","setLink","Submit","setSubmit","useEffect","_supabase$auth$sessio","user","navigate","React","Layout","Navbar","className","DropDownMenu","MenuItem","icon","BsFillQuestionDiamondFill","text","GiSandsOfTime","MdLeaderboard","FaUserTie","Menu","onClick","MdLogout","type","placeholder","onChange","e","target","value","_supabase$auth$user"],"sourceRoot":""}